.. include:: /include.rst

Report 002665 contents // Checking for mismatched itypes
========================================================

Report technical information: 2665
----------------------------------

ID number: 2665

Name: Checking for mismatched itypes

Group: Administrative Reports

Sub-group: Fix Items-admin

Created on: 2016-02-10 21:23:36

Modified on: 2016-02-10 22:18:56

Created by: hbraum

This file generated: 2023-03-24 16:49:10

Notes:

.. raw:: html

  <div style="border: 1px solid black; padding: 25px;">

    includes lots of common sets; may have to remove to check for these.... 

  </div>


----------

SQL: 2665
---------

.. code-block:: sql
  :linenos:

    SELECT  CONCAT('<a href=\"/cgi-bin/koha/catalogue/detail.pl?biblionumber=',biblionumber,'\" target="_blank">',biblionumber,'</a>') AS bibnumber, GROUP_CONCAT(DISTINCT itype) 
    FROM items 
    WHERE biblionumber NOT IN ('551728','636389','521345','682294','682294','573870','572720','568972','566864','304288','297976','577265','')
    GROUP BY biblionumber 
    HAVING 
    count(itemnumber) > '1' AND
    GROUP_CONCAT(DISTINCT itype) <> 'BOOK' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'AUDIOBOOK' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'MEDIA' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'MAGAZINE' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'MUSIC' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'REFERENCE' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'GAME' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'KITS' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'COMPUTER' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'ILL' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'BOOK,NEWBOOK' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'NEWBOOK,BOOK' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'MEDIA,NEWMEDIA' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'NEWMEDIA,MEDIA' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'AUDIOBOOK,NEWAUDIO' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'NEWAUDIO,AUDIOBOOK' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'MAGAZINE,NEWMAG' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'NEWMAG,MAGAZINE' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'REFERENCE,BOOK' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'BOOK,REFERENCE' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'MUSIC,AUDIOBOOK' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'AUDIOBOOK,MUSIC' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'AUDIOBOOK,FLPLAYAWAY' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'BOOK,KITS' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'KITS,BOOK'  AND 
    GROUP_CONCAT(DISTINCT itype) <> 'AUDIOBOOK,KITS' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'KITS,AUDIOBOOK'  AND 
    GROUP_CONCAT(DISTINCT itype) <> 'BOOK,LOCALHOLD2' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'LOCALHOLD2,BOOK' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'BOOK,LOCALHOLD2,NEWBOOK' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'BOOK,LOCALHOLD2,NEWBOOK,WALKIN2' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'BOOK,WALKIN2' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'WALKIN2,BOOK' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'WALKIN,REFERENCE' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'REFERENCE,WALKIN' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'MEDIA,LOCALHOLD1,NEWMEDIA,WALKIN1' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'MEDIA,LOCALHOLD1,NEWMEDIA' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'MEDIA,LOCALHOLD1,WALKIN1' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'MEDIA,LOCALHOLD1,WALKIN1,NEWMEDIA' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'WALKIN' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'BOOK,LOCALHOLD' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'LOCALHOLD,BOOK' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'AUDIOBOOK,BOOK' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'BOOK,AUDIOBOOK' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'AUDIOBOOK,LOCALHOLD' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'LOCALHOLD,AUDIOBOOK' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'BOOK,NEWBOOK,LOCALHOLD2' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'BOOK,NEWBOOK,LOCALHOLD2,WALKIN2' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'BOOK,NEWBOOK,REFERENCE' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'BOOK,NEWBOOK,WALKIN2' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'BOOK,NEWBOOK,WALKIN2,LOCALHOLD2' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'BOOK,REFERENCE,WALKIN' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'BOOK,WALKIN' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'BOOK,REFERENCE,NEWBOOK' AND
    GROUP_CONCAT(DISTINCT itype) <> 'BOOK,WALKIN,REFERENCE' AND
    GROUP_CONCAT(DISTINCT itype) <> 'EQUIPMENT' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'FLPLAYAWAY' AND
    GROUP_CONCAT(DISTINCT itype) <> 'FLPLAYAWAY,AUDIOBOOK' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'FLPLAYAWQAY,LOCALHOLD' AND
    GROUP_CONCAT(DISTINCT itype) <> 'EQUIPMENT,WALKIN' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'EQUIPMENT,KITS' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'EQUIPMENT,COMPUTER' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'FLPLAYAWAY,LOCALHOLD' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'COMPUTER,EQUIPMENT' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'COMPUTER,WALKIN,EQUIPMENT' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'KITS,EQUIPMENT' AND
    GROUP_CONCAT(DISTINCT itype) <> 'LAUNCHPAD' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'LOCALHOLD' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'LAUNCHPAD,LOCALHOLD' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'LOCALHOLD,EQUIPMENT' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'LOCALHOLD,LAUNCHPAD' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'LOCALHOLD2,NEWBOOK,BOOK' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'MEDIA,LOCALHOLD1' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'MEDIA,NEWMEDIA,LOCALHOLD1' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'MEDIA,WALKIN1,NEWMEDIA' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'MEDIA,WALKIN1,NEWMEDIA,LOCALHOLD1' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'MIFI' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'NEWAUDIO' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'NEWBOOK' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'NEWMAG' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'NEWBOOK,BOOK,LOCALHOLD2' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'NEWBOOK,BOOK,REFERENCE' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'NEWBOOK,BOOK,WALKIN2' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'NEWBOOK,REFERENCE' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'NEWBOOK,REFERENCE,BOOK' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'REFERENCE,BOOK,WALKIN' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'REFERENCE,MAGAZINE' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'WALKIN,BOOK' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'WALKIN,BOOK,REFERENCE' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'WALKIN,LOCALHOLD' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'WALKIN,REFERENCE,BOOK' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'WALKIN,MAGAZINE' AND 
    GROUP_CONCAT(DISTINCT itype) <> 'MAGAZINE,WALKIN'
    ORDER BY GROUP_CONCAT(DISTINCT itype)



    



    



    



    









